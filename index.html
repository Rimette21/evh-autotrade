<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>E.V.H. AUTOTRADE</title>

  <!-- Pr√©charge banni√®re -->
  <link rel="preload" as="image"
        href="images/Dubai_car.webp"
        imagesrcset="images/Dubai_car.webp 1x, images/Dubai_car@2x.webp 2x"
        imagesizes="100vw">

  <!-- CSS global (v16) -->
  <link rel="stylesheet" href="styles.css?v=16">

  <!-- Patch mobile ‚Äúv16.1 ‚Äì mobile tighten‚Äù (option : √† d√©placer en fichier s√©par√©) -->
  <style>
  @media (max-width: 859.98px){
    :root{ --hdr-h:54px }
    .header-inner{ padding: 0 .8rem; }
    .logo img{ height: 44px; }
    .brand .evh, .brand .autotrade{
      font-size: clamp(.88rem, 2.4vw, 1.02rem);
      letter-spacing: .25px;
    }
    .brand{ gap: .2rem; }
  }
  @media (max-width: 420px){
    :root{ --hdr-h:50px }
    .logo img{ height: 40px; }
    .brand .evh{ display:none; }
    .brand .autotrade{ font-size: .9rem; }
  }
  @media (max-width: 680px){
    .hero-cta{ left:4.5%; bottom:14px; }
    .hero-cta .btn{ padding:.6rem .9rem; min-height:38px; font-size:.9rem; font-weight:700; box-shadow:0 4px 12px rgba(229,62,62,.22); }
    .btn{ padding:.65rem 1rem; min-height:38px; font-size:.9rem; font-weight:700; }
    .footer-wrap{ padding: 1.2rem .9rem; }
    .f-cols{ gap: .6rem; }
    .f-col h4{ font-size: .85rem; }
    .site-footer{ font-size: .82rem; }
    .f-bottom{ font-size: .78rem; padding: .65rem .9rem; }
  }
  @media (max-width: 859.98px){
    .nav-btn{ width:36px; height:36px; }
    .nav-btn .bar, .nav-btn::before, .nav-btn::after{ width:20px; left:8px; }
    .nav-btn .bar{ top:17px } .nav-btn::before{ top:11px } .nav-btn::after{ top:23px }
  }
  </style>
</head>
<body>

  <!-- ======================
       HEADER (burger CSS-only)
       ====================== -->
  <header>
    <div class="header-inner">
      <div class="logo-wrap">
        <div class="logo">
          <img src="images/EVH_logo.png" alt="E.V.H. AUTOTRADE">
        </div>
        <div class="brand">
          <span class="evh">E.V.H.</span>
          <span class="autotrade">AUTOTRADE</span>
        </div>
      </div>

      <!-- Nav inline (desktop) -->
      <nav class="nav" aria-label="Navigation principale">
        <ul>
          <li><a href="index.html">Accueil</a></li>
          <li><a href="#catalogue">Catalogue</a></li>
          <li><a href="#avantages">Avantages</a></li>
          <li><a href="#">√Ä propos</a></li>
          <li><a href="#">Contact</a></li>
        </ul>
      </nav>

      <!-- Burger (checkbox hack) -->
      <input type="checkbox" id="nav-toggle" aria-hidden="true" />
      <label class="nav-btn" for="nav-toggle" aria-label="Ouvrir le menu">
        <span class="bar"></span>
      </label>
    </div>

    <!-- Overlay cliquable pour fermer (label li√© au checkbox) -->
    <label for="nav-toggle" class="nav-overlay" aria-hidden="true"></label>

    <!-- Tiroir mobile -->
    <aside class="nav-drawer" role="dialog" aria-modal="true" aria-label="Menu mobile">
      <div class="drawer-head">
        <div class="drawer-title">Menu</div>
        <label for="nav-toggle" class="drawer-close" aria-label="Fermer">‚úï</label>
      </div>
      <div class="drawer-body">
        <nav class="drawer-nav">
          <ul>
            <li><a href="index.html">Accueil</a></li>
            <li><a href="#catalogue">Catalogue</a></li>
            <li><a href="#avantages">Avantages</a></li>
            <li><a href="#">√Ä propos</a></li>
            <li><a href="#">Contact</a></li>
          </ul>
        </nav>
      </div>
    </aside>
  </header>

  <!-- ======================
       BANNI√àRE STATIQUE
       ====================== -->
  <section class="hero-static">
    <picture class="hero-bg">
      <source media="(max-width: 680px)" srcset="images/Dubai_car_mobile.webp" type="image/webp">
      <source srcset="images/Dubai_car.webp 1x, images/Dubai_car@2x.webp 2x" type="image/webp">
      <img src="images/Dubai_car.jpg" alt="EVH Autotrade ‚Äì Importation de SUV √©lectriques et hybrides" fetchpriority="high">
    </picture>
    <div class="bg-overlay"></div>
    <div class="hero-cta">
      <a href="#catalogue" class="btn">D√©couvrez notre catalogue</a>
    </div>
  </section>

  <!-- ======================
       Nos Avantages
       ====================== -->
  <section id="avantages" class="advantages-lovable">
    <div class="adv2-head">
      <h2 class="adv2-title">Nos <span class="gradient-text accent">Avantages</span></h2>
      <p class="adv2-sub">D√©couvrez pourquoi EVH AUTO TRADE est votre partenaire de confiance pour l'acquisition de SUV hybrides et √©lectriques.</p>
    </div>
    <div class="adv2-grid">
      <article class="adv2-card">
        <div class="inner">
          <div class="adv2-badge">‚úÖ</div>
          <div class="adv2-title-sm">Importation directe</div>
          <p class="adv2-desc">Prix r√©duits gr√¢ce √† notre r√©seau d'importation directe sans interm√©diaires.</p>
        </div>
      </article>
      <article class="adv2-card">
        <div class="inner">
          <div class="adv2-badge">üõ°Ô∏è</div>
          <div class="adv2-title-sm">SUV neufs ou quasi-neufs</div>
          <p class="adv2-desc">SUV r√©cents, couverts par une garantie importateur de 2 ans.</p>
        </div>
      </article>
      <article class="adv2-card">
        <div class="inner">
          <div class="adv2-badge">üöö</div>
          <div class="adv2-title-sm">Transport inclus au port</div>
          <p class="adv2-desc">Acheminement estim√© sous 45 jours. Assistance aux formalit√©s de d√©douanement (droits & taxes non inclus).</p>
        </div>
      </article>
    </div>
  </section>

  <!-- ======================
       Notre Catalogue
       ====================== -->
  <section id="catalogue" class="section--light">
    <div class="container">
      <h2 class="section-title">Notre <span class="accent">Catalogue</span></h2>
    </div>

    <div id="vehicles-grid" class="grid">
      <p>Chargement du catalogue‚Ä¶</p>
    </div>
  </section>

  <script>
    // Charge la liste depuis hero.json (cache-bust + no-store)
    fetch('data/hero.json?v=12', { cache: 'no-store' })
      .then(res => res.json())
      .then(vehicles => {
        const grid = document.getElementById('vehicles-grid');
        if (!Array.isArray(vehicles) || vehicles.length === 0) {
          grid.innerHTML = '<p>Aucun v√©hicule disponible pour le moment.</p>';
          return;
        }

        grid.innerHTML = vehicles.map(v => {
          const KEYWORDS = ['autonomie', 'moteur', 'transmission', 'cam'];
          const uniq = arr => [...new Set((arr || []).map(x => String(x)))];

          const all = uniq(v.features || []);
          const primary = all.filter(f => KEYWORDS.some(k => f.toLowerCase().includes(k)));
          const secondary = all.filter(f => !primary.includes(f));

          const target = Number.isFinite(v.featuresCount) ? v.featuresCount : 4;

          let feats = [...primary, ...secondary].slice(0, target);
          while (feats.length < target) feats.push('__placeholder__');

          const featuresHTML = feats.map(f =>
            f === '__placeholder__'
              ? '<li class="placeholder">‚Ä¢</li>'
              : `<li>‚Ä¢ ${f}</li>`
          ).join('');

          const km = (v.mileage ?? 0).toLocaleString('fr-FR');

          return `
            <a class="card-link" href="vehicle.html?id=${encodeURIComponent(v.id)}">
              <article class="card">
                <img class="thumb" src="${v.images?.hero || ''}" alt="${v.name}"
                     onerror="this.src='https://via.placeholder.com/400x300?text=Image+non+disponible'">
                <div class="body">
                  <div class="name">${v.name}</div>
                  <div class="submeta">R√©f : <strong>${v.id}</strong></div>
                  <div class="price">Prix FCR (HT) : ${v.priceFCR || '-'}</div>
                  <div class="meta">
                    <span>Km : ${km} km</span>
                    <span>Immat. : ${v.regyear || '-'}</span>
                  </div>
                  <ul class="features">
                    ${featuresHTML}
                  </ul>
                </div>
              </article>
            </a>
          `;
        }).join('');
      })
      .catch(err => {
        console.error(err);
        document.getElementById('vehicles-grid').innerHTML =
          '<p style="color:red;">Erreur : impossible de charger le catalogue.</p>';
      });
  </script>

  <!-- ======================
       FOOTER
       ====================== -->
  <footer class="site-footer">
    <div class="footer-wrap">
      <div class="f-brand">
        <!-- Logo footer masqu√© par CSS (.f-logo { display:none !important; }) -->
        <img src="images/EVH_logo.png" alt="EVH AUTOTRADE" class="f-logo">
        <div>
          <strong>Eco Value Hub FZ-LLC</strong><br>
          Free Zone Limited Liability Company (FZ-LLC) ‚Äì General Trading Licence<br>
          VUNE1173, Compass building ‚Äì Al Hulaila, AL Hulaila Industrial Zone-FZ,<br>
          Ras Al Khaimah, United Arab Emirates
        </div>
      </div>

      <div class="f-cols">
        <div class="f-col">
          <h4>Contact</h4>
          <ul>
            <li><a href="mailto:contact@evhautotrade.com">contact@evhautotrade.com</a></li>
            <li><a href="https://wa.me/33650447400" rel="noopener" target="_blank">WhatsApp : +33 6 50 44 74 00</a></li>
          </ul>
        </div>
        <div class="f-col">
          <h4>Informations l√©gales</h4>
          <ul>
            <li><a href="mentions-legales.html">Mentions l√©gales</a></li>
            <li><a href="conditions-generales.html">Conditions g√©n√©rales</a></li>
            <li><a href="confidentialite.html">Confidentialit√©</a></li>
          </ul>
        </div>
        <div class="f-col">
          <h4>EVH Autotrade</h4>
          <ul>
            <li><a href="index.html#catalogue">Catalogue</a></li>
            <li><a href="index.html#avantages">Nos avantages</a></li>
            <li><a href="mailto:contact@evhautotrade.com?subject=Demande%20devis">Demander un devis</a></li>
          </ul>
        </div>
      </div>
    </div>

    <div class="f-bottom">
      <small>¬© <span id="y"></span> Eco Value Hub FZ-LLC ‚Äî All rights reserved.</small>
    </div>
  </footer>

  <script>
    // ann√©e auto
    document.getElementById('y').textContent = new Date().getFullYear();
  </script>

</body>
</html>
