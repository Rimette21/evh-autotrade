<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>E.V.H. AUTOTRADE</title>

  <!-- Pr√©charge banni√®re -->
  <link rel="preload" as="image"
        href="images/Dubai_car (1).webp"
        imagesrcset="images/Dubai_car.webp 1x, images/Dubai_car@2x.webp 2x"
        imagesizes="100vw">

  <!-- CSS -->
  <link rel="stylesheet" href="styles.css?v=16">
  <link rel="stylesheet" href="mobile-tighten.css">
</head>
<body>

  <!-- HEADER (burger CSS-only) -->
  <header>
    <div class="header-inner">
      <div class="logo-wrap">
        <div class="logo">
<img src="images/EVH_logo-removebg-preview.png" alt="E.V.H. AUTOTRADE">        </div>
        <div class="brand">
          <span class="evh">E.V.H.</span>
          <span class="autotrade">AUTOTRADE</span>
        </div>
      </div>

      <nav class="nav" aria-label="Navigation principale">
        <ul>
          <li><a href="index.html">Accueil</a></li>
          <li><a href="#catalogue">Catalogue</a></li>
          <li><a href="#avantages">Avantages</a></li>
          <li><a href="#">√Ä propos</a></li>
          <li><a href="#">Contact</a></li>
        </ul>
      </nav>

      <!-- Checkbox + bouton burger -->
      <input type="checkbox" id="nav-toggle" aria-hidden="true" />
      <label class="nav-btn" for="nav-toggle" aria-label="Ouvrir le menu">
        <span class="bar"></span>
      </label>

      <label for="nav-toggle" class="nav-overlay" aria-hidden="true"></label>
      <aside class="nav-drawer" role="dialog" aria-modal="true" aria-label="Menu mobile">
        <div class="drawer-head">
          <div class="drawer-title">Menu</div>
          <label for="nav-toggle" class="drawer-close" aria-label="Fermer">‚úï</label>
        </div>
        <div class="drawer-body">
          <nav class="drawer-nav">
            <ul>
              <li><a href="index.html">Accueil</a></li>
              <li><a href="#catalogue">Catalogue</a></li>
              <li><a href="#avantages">Avantages</a></li>
              <li><a href="#">√Ä propos</a></li>
              <li><a href="#">Contact</a></li>
            </ul>
          </nav>
        </div>
      </aside>
      <!-- fin des √©l√©ments qui doivent rester dans .header-inner -->
    </div>
  </header>

  <!-- H√âRO -->
  <section class="hero-static">
    <picture class="hero-bg">
      <source media="(max-width: 680px)" srcset="images/imagemobilemenu.webp" type="image/webp">
      <source srcset="images/imagecomputermenu.webp" type="image/webp">
      <img src="images/imagemobilemenu.webp" alt="EVH Autotrade ‚Äì Importation de SUV √©lectriques et hybrides" fetchpriority="high">
    </picture>
    <div class="bg-overlay"></div>
    <div class="hero-cta">
      <h2 class="adv2-title" style="
    /* font-size: 20px; */
">Passez √† l'√©l√©ctrique sereinement</h2><p class="maintext" style="
    margin-bottom: 23px;
    margin-top: 6px;
">Prix FCR, garantie 2 ans, assistance de A √† Z jusqu‚Äôau port d‚Äôarriv√©e.</p><a href="#catalogue" class="btn">D√©couvrez notre catalogue</a>
    </div>
  </section>

  <!-- AVANTAGES -->
<section id="avantages" class="advantages-lovable">
    <div class="adv2-head">
      <h2 class="adv2-title">Pourquoi choisir EVH Auto Trade ?</h2>
      <p class="adv2-sub">Chez EVH Auto Trade, tout est simple et clair :
vous achetez directement aupr√®s de l‚Äôusine, sans interm√©diaires, avec un suivi complet jusqu‚Äô√† la r√©ception.</p>
    </div>
    <div class="adv2-grid">
      <article class="adv2-card">
        <div class="inner">
          <div class="adv2-badge">‚úÖ</div>
          <div class="adv2-title-sm">Importation directe</div>
          <p class="adv2-desc">Prix r√©duits gr√¢ce √† notre r√©seau d'importation directe sans interm√©diaires.</p>
        </div>
      </article>
      <article class="adv2-card">
        <div class="inner">
          <div class="adv2-badge">üõ°Ô∏è</div>
          <div class="adv2-title-sm">SUV garantis 2 ans</div>
          <p class="adv2-desc">V√©hicules neufs ou r√©cents, contr√¥l√©s et couverts par garantie importateur.</p>
        </div>
      </article>
      
    <article class="adv2-card">
        <div class="inner">
          <div class="adv2-badge">üöö</div>
          <div class="adv2-title-sm">Transport inclus au port</div>
          
        <p class="adv2-desc">Livraison sous 45 jours avec assistance au d√©douanement.</p></div>
      </article></div>
  </section>

  <!-- CATALOGUE -->
  <section id="catalogue" class="section--light">
    <div class="container">
      <h2 class="section-title">Notre <span class="accent">Catalogue</span></h2>
    </div>

    <div id="vehicles-grid" class="grid">
      <p>Chargement du catalogue‚Ä¶</p>
    </div>
  </section>

 <!-- ===== Helpers (quick-specs + puces fixes) ===== -->
<script>
  // D√©termine l‚Äô√©nergie : PHEV si on d√©tecte un hybride rechargeable, sinon BEV
  function energyFrom(v){
    const hay = [v.name, ...(v.features||[])].join(' ').toLowerCase();
    if (/(phev|hybride\s*rechargeable|dm-i|plug[- ]?in)/i.test(hay)) return 'PHEV';
    if (/\bbev\b|100%\s*√©lectrique|fully electric/i.test(hay)) return 'BEV';
    return 'BEV';
  }
  // Format immat YYYY-MM
  function cleanReg(y){
    if(!y) return '‚Äî';
    const p=String(y).split('-');
    return p.length===2?`${p[0]}-${p[1]}`:p[0];
  }
  // Cylindr√©e depuis specs
  function engineCc(v){
    const s=v.specifications||{};
    return s.engineCc||s.enginecc||s.EngineCC||s.cylindree||'‚Äî';
  }
  // Sigle court transmission
  function transmissionShort(v){
    const t = (v.specifications && v.specifications.transmission) ? String(v.specifications.transmission) : '';
    const m =
      t.match(/\b(2?DHT)\b/i) ||
      t.match(/\bE[-\s]?CVT\b/i) ||
      t.match(/\bDCT\b/i) ||
      t.match(/\bAT\b/i) ||
      t.match(/\bMT\b/i) ||
      t.match(/\bSingle[-\s]?speed\b/i);
    return m ? m[0].toUpperCase().replace(/\s+/g,'-') : null;
  }
  // "Autonomie 110 km" √† partir de specs ‚Üí features ‚Üí name
  function autonomyLabel(v){
    const s = v.specifications || {};
    const candidates = [s.autonomieWLTP, s.autonomieCLTC, s.autonomieEPA, s.autonomieElectrique];
    for (const c of candidates){
      if (!c) continue;
      const m = String(c).match(/(\d{2,4})\s*km/i);
      if (m) return `Autonomie ${m[1]} km`;
    }
    const pool = [v.name, ...(v.features||[])].join(' | ');
    const m = pool.match(/(\d{2,4})\s*km/i);
    return m ? `Autonomie ${m[1]} km` : 'Autonomie ‚Äî';
  }

  // Ruban 5 infos sous l‚Äôimage ‚Äì version horizontale identique √† la page 2
  function quickSpecsHTML(v){
    const reg = cleanReg(v.regyear);
    const cc = engineCc(v);
    const km = (v.mileage != null) ? new Intl.NumberFormat('fr-FR').format(v.mileage) : '‚Äî';
    const fuel = energyFrom(v);
    const tr = transmissionShort(v) || '‚Äî';
    return `
      <div class="quick-specs">
        <div class="qs-col">
          <span class="qs-label">Reg. Year</span>
          <span class="qs-value">${reg}</span>
        </div>
        <div class="qs-col">
          <span class="qs-label">Engine(cc)</span>
          <span class="qs-value">${cc}</span>
        </div>
        <div class="qs-col">
          <span class="qs-label">Mlg(km)</span>
          <span class="qs-value">${km}</span>
        </div>
        <div class="qs-col">
          <span class="qs-label">Fuel</span>
          <span class="qs-value" style="color: #00aa00; font-weight: 700;">${fuel}</span>
        </div>
        <div class="qs-col">
          <span class="qs-label">Transm.</span>
          <span class="qs-value">${tr}</span>
        </div>
      </div>`;
  }
</script>
       
  <!-- ===== Catalogue : g√©n√©ration des cartes ===== -->
  <script>
    fetch('data/hero.json?v=12', { cache: 'no-store' })
      .then(res => res.json())
      .then(vehicles => {
        const grid = document.getElementById('vehicles-grid');
        if (!Array.isArray(vehicles) || vehicles.length === 0) {
          grid.innerHTML = '<p>Aucun v√©hicule disponible pour le moment.</p>';
          return;
        }

        grid.innerHTML = vehicles.map(v => {
          const energy = energyFrom(v);                  // "PHEV" ou "BEV"
          const autoLbl = autonomyLabel(v);              // "Autonomie 110 km"
          const trShort = transmissionShort(v) || '‚Äî';   // "DHT", "E-CVT", "DCT", ‚Ä¶

          // 5 puces fixes selon l‚Äô√©nergie
          const bullets = (energy === 'PHEV')
            ? [
                'Hybride rechargeable (PHEV)',
                autoLbl,
                `Transmission auto ${trShort}`,
                'Cam√©ra 360¬∞',
                'Toit panoramique'
              ]
            : [
                '100% √©lectrique (BEV)',
                autoLbl,
                `Transmission auto ${trShort}`,
                'Cam√©ra 360¬∞',
                'Toit panoramique'
              ];

          const featuresHTML = bullets.map(txt => `<li>‚Ä¢ ${txt}</li>`).join('');

          return `
            <a class="card-link" href="vehicle.html?id=${encodeURIComponent(v.id)}">
              <article class="card">
                <img class="thumb" src="${v.images?.hero || ''}" alt="${v.name}"
                     onerror="this.src='https://via.placeholder.com/400x300?text=Image+non+disponible'">
                ${quickSpecsHTML(v)}
                <div class="body">
                  <div class="name">${v.name}</div>
                  <div class="submeta">R√©f : <strong>${v.id}</strong></div>
                  <div class="price">Prix FCR (HT) : ${v.priceFCR || '-'}</div>
                  <!-- ligne Km/Immat supprim√©e car incluse dans quick-specs -->
                  <ul class="features">${featuresHTML}</ul>
                </div>
              </article>
            </a>`;
        }).join('');
      })
      .catch(err => {
        console.error(err);
        document.getElementById('vehicles-grid').innerHTML =
          '<p style="color:red;">Erreur : impossible de charger le catalogue.</p>';
      });
  </script>

  <!-- FOOTER -->
  <footer class="site-footer">
    <div class="footer-wrap">
      <div class="f-brand">
        <img src="images/EVH_logo.png" alt="EVH Autotrade" class="f-logo">
        <div>
          <strong>Eco Value Hub FZ-LLC</strong><br>
          Free Zone Limited Liability Company (FZ-LLC) ‚Äì General Trading Licence<br>
          VUNE1173, Compass building ‚Äì Al Hulaila, AL Hulaila Industrial Zone-FZ,<br>
          Ras Al Khaimah, United Arab Emirates
        </div>
      </div>
      <div class="f-cols">
        <div class="f-col">
          <h4>Contact</h4>
          <ul>
            <li><a href="mailto:contact@evhautotrade.com">contact@evhautotrade.com</a></li>
            <li><a href="https://wa.me/33650447400" rel="noopener" target="_blank">WhatsApp : +33 6 50 44 74 00</a></li>
          </ul>
        </div>
        <div class="f-col">
          <h4>Informations l√©gales</h4>
          <ul>
            <li><a href="mentions-legales.html">Mentions l√©gales</a></li>
            <li><a href="conditions-generales.html">Conditions g√©n√©rales</a></li>
            <li><a href="confidentialite.html">Confidentialit√©</a></li>
          </ul>
        </div>
        <div class="f-col">
          <h4>EVH Autotrade</h4>
          <ul>
            <li><a href="index.html#catalogue">Catalogue</a></li>
            <li><a href="index.html#avantages">Nos avantages</a></li>
            <li><a href="mailto:contact@evhautotrade.com?subject=Demande%20devis">Demander un devis</a></li>
          </ul>
        </div>
      </div>
    </div>
    <div class="f-bottom">
      <small>¬© <span id="y"></span> Eco Value Hub FZ-LLC ‚Äî All rights reserved.</small>
    </div>
  </footer>

  <script>
    document.getElementById('y').textContent = new Date().getFullYear();
  </script>
</body>
</html>
