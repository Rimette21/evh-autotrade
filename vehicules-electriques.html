<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Véhicules 100% électriques – EVH Autotrade</title>

  <link rel="preload" as="image"
        href="images/Dubai_car (1).webp"
        imagesrcset="images/Dubai_car.webp 1x, images/Dubai_car@2x.webp 2x"
        imagesizes="100vw">
  <link rel="stylesheet" href="styles.css?v=16">
  <link rel="stylesheet" href="mobile-tighten.css">
</head>
<body data-mode="EV">
  <!-- HEADER identique à index, mais avec les 2 liens du menu mis à jour -->

  <!-- HÉRO spécifique EV -->
  <section class="hero-static">
    <picture class="hero-bg">
      <source media="(max-width:680px)" srcset="images/imagemobilemenu.webp" type="image/webp">
      <source srcset="images/imagecomputermenu.webp" type="image/webp">
      <img src="images/imagemobilemenu.webp" alt="SUV 100% électriques – Tunisie">
    </picture>
    <div class="bg-overlay"></div>
    <div class="hero-cta">
      <h2 class="adv2-title">Passez au 100% électrique</h2>
      <p class="maintext" style="margin:6px 0 23px;padding-right:15px;">
        En Tunisie : DD 0%, DC 0%, TVA 7%.* Prix TTC dédouané affiché en dinars quand disponible.
      </p>
      <a href="#catalogue" class="btn">Voir les modèles électriques</a>
    </div>
  </section>

  <!-- CATALOGUE -->
  <section id="catalogue" class="section--light">
    <div class="adv2-head">
      <h2 class="adv2-title">Véhicules <span class="accent">100% électriques (BEV)</span></h2>
      <p class="adv2-sub">Prix TTC dédouané en dinars lorsque renseigné. Sinon, demande de devis rapide.</p>
    </div>

    <!-- Filtres (on garde ta même barre) -->
    <div id="filters" class="filters">
      <div class="filters-row">
        <input id="f-q" type="search" placeholder="Rechercher : marque ou modèle…" aria-label="Rechercher par marque/modèle">
        <select id="f-type" aria-label="Filtrer par motorisation">
          <option value="">Motorisation</option>
          <option value="BEV">Électrique (BEV)</option>
          <option value="PHEV">Hybride rechargeable (PHEV)</option>
          <option value="HEV">Hybride (HEV)</option>
          <option value="ESSENCE">Essence</option>
          <option value="DIESEL">Diesel</option>
        </select>
        <div class="range-wrap">
          <label for="f-year" class="range-label">Année immat. : <span id="f-year-val">—</span></label>
          <input id="f-year" type="range" min="2008" max="2026" step="1" value="2008">
        </div>
        <div class="range-wrap">
          <label for="f-km" class="range-label">Kilométrage max : <span id="f-km-val">—</span></label>
          <input id="f-km" type="range" min="0" max="200000" step="1000" value="200000">
        </div>
        <div class="range-wrap">
          <label for="f-price" class="range-label">Prix max : <span id="f-price-val">—</span></label>
          <input id="f-price" type="range" min="0" max="100000" step="500" value="100000">
        </div>
        <button id="f-reset" class="btn btn--ghost" type="button">Réinitialiser</button>
      </div>
    </div>

    <div id="vehicles-grid" class="grid"><p>Chargement du catalogue…</p></div>
  </section>

  <!-- bloc contact + footer identiques à index -->

  <script>
    /* ===== PAGE MODE =====
       'EV' : force BEV + étiquette prix TTC en TND si dispo
    */
    const PAGE_MODE = 'EV';

    // ---- colle ici TOUT ton <script> catalogue actuel depuis index.html ----
    // puis fais UNIQUEMENT les 3 petits ajouts suivants :

    // (1) juste après window.__VEHICLES__ = vehicles || [];
    //     on force le filtre BEV et on désactive le sélecteur
    //     pour cette page EV :
    //     document.getElementById('f-type').value = 'BEV';
    //     document.getElementById('f-type').disabled = true;

    // (2) dans la fonction cardHTML(v) : remplace la ligne prix par :
    //     const priceLine = (() => {
    //       if (PAGE_MODE === 'EV') {
    //         // on lit un champ optionnel v.priceTND (TTC dédouané)
    //         // si absent -> call-to-action
    //         return v.priceTND
    //           ? `Prix TTC dédouané (TND) : <strong>${v.priceTND}</strong>`
    //           : `<span style="color:#0f172a">Prix TTC sur devis</span>`;
    //       }
    //       return `Prix FCR (HT) : ${v.priceFCR || '-'}`;
    //     })();

    //     ...et plus bas, dans le template de la carte, remplace
    //     <div class="price">Prix FCR (HT) : ${v.priceFCR || '-'}</div>
    //     par
    //     <div class="price">${priceLine}</div>

    // (3) pour éviter que des PHEV s’affichent malgré tout,
    //     aucun changement : le filtrage est déjà respecté
    //     par applyFilters() grâce à f-type = BEV.
  </script>
</body>
</html>
